#:import F kivy.factory.Factory


<Main>:
    id:     _main
    AnchorLayout:
        anchor_x:   'left'
        anchor_y:   'top'


        GeneralOptions:
            id:         _general_options
            height: 40
            width:  1000
            size_hint: None, None


    AnchorLayout:
        id:     _222
        anchor_x:   'right'
        anchor_y:   'top'

        Out_info:
            id:     _label
            size_hint: None, None
            width:      root.width - _general_options.width
            height:     root.height - _general_options.height




<GeneralOptions@BoxLayout>:
    orientation:    'horizontal'
    padding:        2
    height: 48



    Button:
        id: btn1
        text: 'Контроль'
        on_release: dropdown1.open(self)
        height: '48dp'


        DropDown:
            id: dropdown1

            Button:
                text: 'Режим'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown1.select('Режим')
                on_press:   app.print_out()

            Button:
                text: 'КолЦикл'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown1.select('КолЦикл')
                on_press:   F.Count_circle().open()
            Button:
                text: 'Вып'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown1.select('Вып')
                on_press:   app.do_program()
            Button:
                text: 'Печать'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown1.select('Печать')

    Button:
        text: 'Отладка'
        on_release: dropdown2.open(self)
        height: '48dp'
        id: btn2
        DropDown:
            id: dropdown2

            Button:
                text: 'ЭтНач'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown2.select('ЭтНач')
                on_press:   app.print_out()

            Button:
                text: 'ЭтКон'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown2.select('ЭтКон')
                on_press:   F.Count_circle().open()
            Button:
                text: 'Шаг'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown2.select('Шаг')
            Button:
                text: 'Модификация'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown2.select('Модификация')
            Button:
                text: 'Режим'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown2.select('Режим')
            Button:
                text: 'КолЦиклов'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown2.select('КолЦиклов')
            Button:
                text: 'Выполнить'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown2.select('Выполнить')

    Button:
        text: 'РучРеж'
        on_release: dropdown3.open(self)
        height: '48dp'
        id: btn3
        DropDown:
            id: dropdown3

            Button:
                text: 'ОбнулУСО'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ОбнулУСО')


            Button:
                text: 'ПускРГ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ПускРГ')

            Button:
                text: 'ПускЗУ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ПускЗУ')
            Button:
                text: 'ЦиклУСО_РГ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ЦиклУСО_РГ')
            Button:
                text: 'ЦиклПВМ_Мод'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ЦиклПВМ_Мод')
            Button:
                text: 'УпрПрМод'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('УпрПрМод')
            Button:
                text: 'ИпуZup'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ИпуZup')
            Button:
                text: 'УпрZup'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('УпрZup')
    Button:
        text: 'РучРеж'
        on_release: dropdown3.open(self)
        height: '48dp'
        id: btn3
        DropDown:
            id: dropdown3

            Button:
                text: 'ОбнулУСО'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ОбнулУСО')


            Button:
                text: 'ПускРГ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ПускРГ')

            Button:
                text: 'ПускЗУ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ПускЗУ')
            Button:
                text: 'ЦиклУСО_РГ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ЦиклУСО_РГ')
            Button:
                text: 'ЦиклПВМ_Мод'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ЦиклПВМ_Мод')
            Button:
                text: 'УпрПрМод'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('УпрПрМод')
            Button:
                text: 'ИпуZup'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('ИпуZup')
            Button:
                text: 'УпрZup'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown3.select('УпрZup')
    Button:
        text: 'Высветка'
        on_release: dropdown4.open(self)
        height: '48dp'
        id: btn4
        DropDown:
            id: dropdown4
            Button:
                text: 'КоордРег'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown4.select('КоордРег')
            Button:
                text: 'Чт/Зп Рг'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown4.select('Чт/Зп Рг')
            Button:
                text: 'КоордЗУ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown4.select('КоордЗУ')
            Button:
                text: 'Чт/Зп ЗУ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown4.select('Чт/Зп ЗУ')
            Button:
                text: 'ЧтБуфВыд'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown4.select('ЧтБуфВыд')
            Button:
                text: 'ЧтЭтапа'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown4.select('ЧтЭтапа')
            Button:
                text: 'ЧтННормДиск'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown4.select('ЧтННормДиск')
            Button:
                text: 'УпрZup'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown4.select('УпрZup')
    Button:
        text: 'Параметры'
        on_release: dropdown5.open(self)
        height: '48dp'
        id: btn5
        DropDown:
            id: dropdown5
            Button:
                text: 'ОстНеисправность'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('КоордРег')
            Button:
                text: 'Пауза'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('Чт/Зп Рг')
            Button:
                text: 'БлокИндЭтапа'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('КоордЗУ')
            Button:
                text: 'ЗапрУСО'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('Чт/Зп ЗУ')
            Button:
                text: 'ПоэтапОСТ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('ЧтБуфВыд')
            Button:
                text: 'ПошагОСТ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('ЧтЭтапа')
            Button:
                text: 'МодОСТ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('ЧтННормДиск')
            Button:
                text: 'ОстФГ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('УпрZup')
            Button:
                text: 'ИндикацияСрав'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('УпрZup')
            Button:
                text: 'Блок КПН'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('УпрZup')
            Button:
                text: 'Блок ДСЧ'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('УпрZup')
            Button:
                text: 'ЗапННДиск'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('УпрZup')
            Button:
                text: 'БлокZUP'
                size_hint_y: None
                height: '48dp'
                on_release: dropdown5.select('УпрZup')
    Button:
        text: 'Выход'
        height: '48dp'
        id: exit_button
        on_press:   app.stop()



<Out_info@BoxLayout>:
    orientation: "vertical"
    size:       (200, 120)
    size_hint:  (None, None)





    BoxLayout:
        orientation: "horizontal"
        size:       (200, 120)
        size_hint:  (None, None)

        Label:
            text:   'Факт. значение'
            markup: True
        Label:
            text:   'Эталон'
            markup: True
        Label:
            text:   'Доп'
            markup: True




<Count_circle@Popup>
    id:        amount_circle
    title:     "Ввод циклов"
    size:       (450, 200)
    size_hint : (None,None)

    BoxLayout:
        orientation: "horizontal"
        size:       (200, 120)
        size_hint:  (None, None)
        BoxLayout:
            orientation: "vertical"
            size:       (200, 120)
            size_hint:  (None, None)

            Label:
                text: "Введите количество циклов"
                size_hint:  (1, 0.2)

            TextInput:
                id: count_circle
                size_hint:  (1, 0.2)
                text: ""

            Button:
                size_hint:  (1, 0.2)
                text:           "Подтвердить"
                on_release:     app.count_cirkles = int(count_circle.text)
                on_release:     amount_circle.dismiss()


        Label:
            id:     count_cirkles_label
            markup: True
            size_hint:  (None, None)
            size:       (200, 120)
            text:   'Текущее кол-во циклов:\n' + str(app.count_cirkles)


